<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link href="//fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
    <script src="pie.js" type="text/javascript"></script>
    <script src="controllers.js" type="text/javascript"></script>
    <script src="//cdn.mathjax.org/mathjax/2.7-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <script type="text/javascript">
      window.pie = window.pie || {};
      window.pie.env = {mode: 'gather'};
      window.pie.model = {'pies':[{'id':'1','pie':{'name':'corespring-match-ng15','version':'1.0.0'},'minimumWidth':300,'correctResponse':[{'id':'row-1','matchSet':[true,false]},{'id':'row-2','matchSet':[true,false]},{'id':'row-3','matchSet':[true,false]},{'id':'row-4','matchSet':[true,false]}],'allowPartialScoring':false,'partialScoring':[{}],'feedback':{'correctFeedbackType':'none','partialFeedbackType':'none','incorrectFeedbackType':'none'},'model':{'columns':[{'labelHtml':'Column 1'},{'labelHtml':'Column 2'},{'labelHtml':'Column 3'}],'rows':[{'id':'row-1','labelHtml':'Question text 1'},{'id':'row-2','labelHtml':'Question text 2'},{'id':'row-3','labelHtml':'Question text 3'},{'id':'row-4','labelHtml':'Question text 4'}],'config':{'inputType':'radiobutton','layout':'three-columns','shuffle':false}}}]};
      window.pie.session = [];
      
      document.addEventListener('pie.player-ready', function(event){
        var player = event.target;
        var pieController = new pie.Controller(window.pie.model, window['3858c873e651bc3323baed2cb4dadac2']);
        
        player.controller = pieController;
        player.env = window.pie.env;
        player.session = window.pie.session;
        
        var panel = document.querySelector('pie-control-panel');
        panel.env = window.pie.env;
        
        pieController.getLanguages().then(function(l) {
          panel.languages = l;
        });
      
        panel.addEventListener('envChanged', function(event){
          
          player.env = event.target.env;
          
          if (event.target.env.mode === 'evaluate') {
            player.getOutcome().then(function(outcome) {
              panel.score = ' Score: ' + outcome.summary.percentage + '% Points: ' + outcome.summary.points + '/' + outcome.summary.maxPoints;
            });
          } else {
            panel.score = '';
          }
      
        });
      });
      
    </script>
  </head>
  <body>
    <pie-control-panel></pie-control-panel>
    <pie-player><corespring-match-ng15 pie-id="1"></corespring-match-ng15></pie-player>
  </body>
</html>